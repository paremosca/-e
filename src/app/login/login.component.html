<div class="container mb-5">


  <form *ngIf="!isLoggedIn" name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate class="mt-5">
    <mat-form-field appearance="outline">
      <mat-label>Usuari</mat-label>
      <input type="text" name="username" [(ngModel)]="form.username" required #username="ngModel" [ngClass]="{ 'is-invalid': f.submitted && username.errors }" 
      matInput/>
      <!--<mat-error>El camp Nom es obligatori</mat-error>-->
    </mat-form-field>

    <div *ngIf="username.errors && f.submitted" class="invalid-feedback">
      Username is required!
    </div>

    <mat-form-field appearance="outline" class="mt-3">
      <mat-label>Contrasenya</mat-label>
      <input matInput type="password" name="password" [(ngModel)]="form.password" required minlength="6" #password="ngModel"
      [ngClass]="{ 'is-invalid': f.submitted && password.errors }">
      <!--<mat-error>El camp Nom es obligatori</mat-error>-->
    </mat-form-field>

    <div *ngIf="password.errors && f.submitted" class="invalid-feedback">
      <div *ngIf="password.errors['required']">Password is required</div>
      <div *ngIf="password.errors['minlength']">
        Password must be at least 6 characters
      </div>
    </div>

    <button mat-flat-button color="primary" style="width:100%; height:45px !important" class="mt-3">
      Entrar
    </button>

    <div class="form-group mt-3">
      <div *ngIf="f.submitted && isLoginFailed" class="alert alert-danger" role="alert">
        Login failed: {{ errorMessage }}
      </div>
    </div>

    <div class="alert alert-success" *ngIf="isLoggedIn">
      Logged in as {{ roles }}.
    </div>

    
  </form>
  <button mat-flat-button color="primary" style="width:100%; height:45px !important" (click)="prueba()" class="mt-3">
    prueba verificar
  </button>
</div>
